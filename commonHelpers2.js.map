{"version":3,"file":"commonHelpers2.js","sources":["../src/js/products-api.js","../src/js/footer.js","../src/js/discount.js","../src/js/popular.js","../src/js/products-list.js","../src/js/scroll.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://food-boutique.b.goit.study/api/products';\n\nexport function getProducts(page, limit) {\n    return axios.get(`${BASE_URL}`, {\n        params: {\n            page: page,\n            limit: limit,\n        },\n    });\n};\n\nexport function getProductsKeyword(page, limit, value) {\n    return axios.get(`${BASE_URL}`, {\n        params: {\n            page: page,\n            limit: limit,\n            keyword: value,\n        },\n    });\n};\n\nexport function getProductsCategory(page, limit, category) {\n    return axios.get(`${BASE_URL}`, {\n        params: {\n            page: page,\n            limit: limit,\n            category: category,\n        },\n    });\n};\n\n","document.addEventListener('DOMContentLoaded', () => {\n    const subscriptionForm = document.querySelector('.footer-sub-form');\n\n    subscriptionForm.addEventListener('submit', async (e) => {\n        e.preventDefault();\n\n        const emailInput = subscriptionForm.querySelector('.footer-email-input');\n        const email = emailInput.value;\n\n        // Перевірка валідності email\n        if (!emailInput.checkValidity()) {\n            alert('Please enter a valid email address.');\n            return;\n        }\n\n        // Об'єкт, що відправляється на сервер\n        const subscriptionData = { email };\n\n        try {\n            const response = await fetch('https://food-boutique.b.goit.study/api/subscription', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(subscriptionData),\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                alert(data.message);\n            } else if (response.status === 409) {\n                alert('This email is already subscribed.');\n            } else {\n                throw new Error('Failed to subscribe.');\n            }\n        } catch (error) {\n            alert('Error: ' + error.message);\n        }\n    });\n});\n","import axios from 'axios';\nimport icons from '../img/icone/symbol-defs.svg';\nimport { updateCartButtonIcons, setCartButtonEventListeners } from './local-storage';\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    const discountProductsContainer = document.getElementById(\"discount-products\");\n    const paginationContainer = document.getElementById('pagination');\n\n\n    async function fetchDiscountProducts(page) {\n        try {\n            const respone = await axios.get('https://food-boutique.b.goit.study/api/products/discount?page=${page}&limit=${itemsPerPage}`');\n            const discountProducts = respone.data;\n            // console.log(discountProducts);\n\n            discountProductsContainer.innerHTML = '';\n\n            // Вибірка тільки 2 продуктів для відображення\n            // const productsToDisplay = discountProducts.slice(0, 2);\n\n            // productsToDisplay.forEach(product => {\n            //     const card = createProductCard(product);\n            //     console.log(product);\n            //     discountProductsContainer.innerHTML += card;\n            // });\n            discountProducts.forEach(product => {\n                const card = createProductCard(product)\n                \n                discountProductsContainer.innerHTML += card;\n            });\n            updateCartButtonIcons(discountProducts, '.cart-btn-list-discount', icons); // Використання уніфікованої функції\n            setCartButtonEventListeners(discountProducts, '.cart-btn-list-discount', icons); // Використання уніфікованої функції\n        } catch (error) {\n            console.error('Error fetching discount products:', error);\n        }\n    }\n\n    fetchDiscountProducts();\n\n    function createProductCard(product) {\n        const longText = product.name;\n        const maxLength = 12;\n        const screenWidth = window.innerWidth;\n        const shouldShowFullText = longText.length > maxLength && screenWidth >= 1440;\n        const truncatedText = truncateText(longText, maxLength);\n           return `\n        <li class=\"card-container-list-discount\" id=\"${product._id}\">\n        <div class=\"photo-card-list-discount\">\n                <a class=\"product-modal-list-discount\" href=\"#\">\n                    <div class=\"img-container-list-discount\">\n                        <svg width=\"60\" height=\"60\" class=\"product-image-discount\">\n                            <use href=\"${icons}#icon-discount-green\"></use>\n                         </svg>\n                        <img class=\"product-image-list-discount\" src=\"${product.img}\" alt=\"${product.name} photo\" width=114 height=114 loading=\"lazy\" />\n                    </div>\n                    </a>\n                    <div class=\"product-info-list\">\n                        <div class=\"price-and-btn-list-discount\">\n                        <h2 class=\"product-name-list-discount${shouldShowFullText ? ' show-full-text' : ''}\" title=\"${shouldShowFullText ? longText : ''}\">${truncatedText}</h2>\n                        <h2 class=\"price-discount\">$${product.price}</h2>\n                            <button class='cart-btn-list-discount' type=\"button\" data-product-id=\"${product._id}\">          \n                                <svg class='list-cart-svg-list' width=\"18\" height=\"18\" >\n                                    <use href=\"${icons}#icon-heroicons-solid_shopping-cart-18x18\"></use>\n                                </svg>\n                            </button>\n                        </div>\n                    </div>\n            </div>\n        </li>\n        `\n    }\n\n// Якщо довжина h2 більша maxLength, то додаємо ... і текст виводимо під курсором для екранів від 1440px\n    function truncateText(text, maxLength) {\n        const screenWidth = window.innerWidth;\n        return screenWidth >= 1440 && text.length > maxLength ? `${text.slice(0, maxLength)}...` : text;\n    }\n    // Функція для додавання продукту до кошика\n\n\n\n\n\n\n\n\n\n    // \n\n\n})\n\nconst discountProductsContainer = document.getElementById(\"discount-products\");\n\ndiscountProductsContainer.addEventListener(\"mouseover\", function () {\n    discountProductsContainer.style.overflowY = \"auto\";\n});\ndiscountProductsContainer.addEventListener(\"mouseout\", function () {\n    discountProductsContainer.style.overflowY = \"hidden\";\n});\n\n\n//  <img class=\"product-image-discount\" src=\"./img/discount-green.svg\" alt=\"Discount\" width=\"60\" height=\"60\"></img>","import axios from 'axios';\nimport icons from '../img/icone/symbol-defs.svg';\nimport { updateCartButtonIcons, setCartButtonEventListeners } from './local-storage';\n\nconst popularProductsURL =\n  'https://food-boutique.b.goit.study/api/products/popular';\n\nfunction renderPopularProducts(products) {\n  const productList = document.querySelector('.popular-product-list');\n\n  products.forEach(product => {\n    const listItem = document.createElement('li');\n    listItem.classList.add('popular-product-item');\n    const popularCategoryWithoutUnderscore = product.category\n      .split('_')\n      .join(' ');\n    listItem.innerHTML = `\n      <a class=\"popular-modal\">\n                 <div class=\"popular-img\">\n            <img class=\"popular-photo-item\" src=\"${product.img}\" alt=\"${product.name}\" width=\"56\" height=\"56\" loading=\"lazy\">\n          </div>  \n          <ul class=\"about-popular\">\n            <li class=\"name-popular-product\">${product.name}</li>\n            <li class=\"subname-popular-product\">Category: <span class=\"id-subname\">${popularCategoryWithoutUnderscore}</span></li>\n            <li class=\"subname-popular-product\">Size: <span class=\"id-subname\">${product.size}</span></li>\n            <li class=\"subname-popular-product\">Popularity: <span class=\"id-subname\">${product.popularity}</span></li>\n          </ul>\n          <button class='popular-cart-btn' type=\"button\" data-product-id=\"${product._id}\">          \n                                <svg class=\"list-cart-svg-list\" width=\"18\" height=\"18\" >\n                                    <use href=\"${icons}#icon-heroicons-solid_shopping-cart-18x18\">\n                                    </use>\n                                </svg>\n                            </button>\n        </a>\n    `;\n\n    productList.appendChild(listItem);\n  });\n  updateCartButtonIcons(products, '.popular-cart-btn', icons);\n  setCartButtonEventListeners(products, '.popular-cart-btn', icons);\n\n}\n\nasync function fetchPopularProducts() {\n  try {\n    const response = await axios.get(popularProductsURL);\n    \n    return response.data; // Повертаємо список популярних продуктів з відповіді\n  } catch (error) {\n    console.error('Error fetching popular products:', error);\n    throw error; // Обробка помилки, якщо запит не вдалося виконати\n  }\n}\n\n// Викликаємо функцію для отримання списку популярних продуктів\nfetchPopularProducts()\n  .then(popularProducts => {\n    \n    // Рендеримо список популярних продуктів\n    renderPopularProducts(popularProducts);       \n  })\n  .catch(error => {\n    console.error('Error:', error);\n    // Тут можна обробити помилку, якщо отримання популярних продуктів не вдалося\n  });\n","import icons from '../img/icone/symbol-defs.svg';\nimport { getProducts, getProductsKeyword, getProductsCategory } from './products-api';\nimport { getFilters, updateFilter, updateCartButtonIcons, setCartButtonEventListeners} from './local-storage';\n\nimport 'tui-pagination/dist/tui-pagination.css';\nimport Pagination from 'tui-pagination';\n\nconst productsListContainer = document.getElementById('products-list-container');\nconst inputkeywordEl = document.getElementById('search-bar-id')\nconst formFiltersEl = document.getElementById('search-form')\nconst noSearchDivContainerElement = document.querySelector('.no-results-container')\n// noSearchDivContainerElement.classList.remove('visually-hidden');\n\nlet page;\nlet pagination;\nlet query = null;\n\nformFiltersEl.addEventListener('submit', onSubmit)\n\nasync function onSubmit(evt) {\n  evt.preventDefault();\n  updateFilter('page', 1);\n  page = 1;\n  const searchQuery = evt.target.elements['item-search-value'].value.trim();\n  query = searchQuery;\nif (!searchQuery) {\n  productsListContainer.innerHTML='';  \n  removeAndRecreatePaginationContainer()\n  noSearchDivContainerElement.classList.remove('visually-hidden')\n\n  return console.log('Please enter a search query.');\n} try {\n  await renderProducts(searchQuery);\n} catch(error) {\n console.log('Oops! Something went wrong! Try reloading the page!')    \n}\n}\n\n// Обробка зміни розміру вікна\nwindow.addEventListener('resize', updatePageSize);\n\n// Функція для оновлення ліміту продуктів на сторінці\nfunction updatePageSize() {\n  let limit;\n  if (window.innerWidth >= 1440) {\n    limit = 9;\n  } else if (window.innerWidth >= 768) {\n    limit = 8;\n  } else {\n    limit = 6;\n  }\n  const currentFilters = getFilters();\n  if (currentFilters.limit !== limit) {\n    updateFilter('limit', limit);\n    updateFilter('page', 1); // Оновлення сторінки до першої\n    renderProducts();\n  }\n}\n\nfunction removeAndRecreatePaginationContainer() {\n  const container = document.getElementById('tui-pagination-container');\n  if (container) {\n    container.remove(); // Видалення контейнера пагінації\n  }\n\n  // Створення нового контейнера пагінації\n  const newContainer = document.createElement('div');\n  newContainer.id = 'tui-pagination-container';\n  newContainer.className = 'tui-pagination';\n  productsListContainer.after(newContainer); // Додавання після контейнера з продуктами\n}\n\nasync function renderProducts() {\n    const filters = getFilters();\n    let page = filters.page || 1;\n    let limit = filters.limit || 6;\n\n    try {\n      noSearchDivContainerElement.classList.add('visually-hidden')\n      const { data } = await getProductsKeyword(page, limit, query);\n      const { perPage, totalPages, results } = data;\n      const totalItems = perPage * totalPages;\n      if (results.length === 0) { \n        removeAndRecreatePaginationContainer()\n        const container = document.getElementById('tui-pagination-container');\n        container.classList.add('visually-hidden')\n\n        console.log(results);\n        noSearchDivContainerElement.classList.remove('visually-hidden')\n        productsListContainer.innerHTML=''; \n          console.log('nothing');\n          return;\n\n      }\n    productsListContainer.innerHTML = createMarkup(results); // Оновлюємо тільки список продуктів\n    noSearchDivContainerElement.classList.add('visually-hidden')\n    \n    setCartButtonEventListeners(results, '.cart-btn-list', icons); // Використання уніфікованої функції\n\n    removeAndRecreatePaginationContainer();\n\n    const container = document.getElementById('tui-pagination-container');\n     // Визначення кількості видимих сторінок на основі ширини екрану\n     const visiblePages = window.innerWidth < 768 ? 2 : 4; // За замовчуванням 4, якщо ширина екрану більша за 768\n     if (totalPages === 1) {\n      removeAndRecreatePaginationContainer();\n      container.classList.add('visually-hidden')\n     } else {\n    pagination = new Pagination(container, {\n      totalItems: totalItems,\n      itemsPerPage: limit,\n      visiblePages: visiblePages,\n      centerAlign: true,\n      page: page,\n    });\n  }\n\n\n    pagination.on('beforeMove', event => {\n              const currentPage = event.page;\n              const currentFilters = getFilters();\n              const newLimit = currentFilters.limit || 6;\n              if (currentPage !== currentFilters.page || newLimit !== currentFilters.limit) {\n                  updateFilter('page', currentPage);\n                  updateFilter('limit', newLimit);\n                  renderProducts();\n              }\n            });\n\n    updateCartButtonIcons(results, '.cart-btn-list', icons); // Використання уніфікованої функції\n  } catch (error) {\n    console.error('Error fetching products', error);\n  }\n}\n\n\nrenderProducts();\n\nexport function createMarkup(arr) {\n  const markup = `<ul class=\"card-container-list\">${arr\n    .map(item => {\n      const categoryWithoutUnderscore = item.category.split('_').join(' ');\n      return `\n            <li class=\"photo-card-list\">\n                <a class=\"product-modal-list\" href=\"#\">\n                    <div class=\"img-container-list\">\n                        <img class=\"product-image-list\" src=\"${item.img}\" alt=\"${item.name} photo\" width=140 height=140 loading=\"lazy\" />\n                    </div>\n                    <div class=\"product-info-list\">\n                        <h2 class=\"product-name-list\">${item.name}</h2>\n                        <div class='product-atributes-list'>\n                            <p class=\"atributes-info-list\">\n                                <b class=\"atributes-list\">Category:</b> ${categoryWithoutUnderscore}\n                            </p>\n                            <p class=\"atributes-info-list\">\n                                <b class=\"atributes-list\">Size:</b> ${item.size}\n                            </p>\n                            <p class=\"atributes-info-list\">\n                                <b class=\"atributes-list\">Popularity:</b> ${item.popularity}\n                            </p>\n                        </div>\n                        </a>\n                        <div class=\"price-and-btn-list\">\n                            <h2 class=\"product-price-list\">$${item.price}</h2>\n                            <button class='cart-btn-list' type=\"button\" data-product-id=\"${item._id}\">          \n                                <svg class=\"list-cart-svg-list\" width=\"18\" height=\"18\" >\n                                    <use href=\"${icons}#icon-heroicons-solid_shopping-cart-18x18\">\n                                    </use>\n                                </svg>\n                            </button>\n                        </div>\n                    </div>\n            </li>\n        `;\n    })\n    .join('')}</ul>`;\n    return markup;\n}","window.onscroll = () => checkPosition();\n\n// тепер призначимо обробником подій трохи загальмовану функцію:\n; (() => {\n    window.addEventListener('scroll', throttle(checkPosition, 250));\n    window.addEventListener('resize', throttle(checkPosition, 250));\n})()\n\nasync function checkPosition() {\n    const body = document.querySelector('body');\n    // Нам потрібно знати висоту документа та висоту екрану:\n    const bodyHeight = document.body.offsetHeight;\n    const screenHeight = window.innerHeight;\n    // Записуємо, скільки пікселів користувач вже проскролив:\n    const scrolled = window.scrollY;\n    // Позначимо поріг, після наближення якого викликатимемо якусь дію. У нашому випадку – чверть екрана до кінця сторінки:\n    const threshold = bodyHeight - screenHeight / 4;\n    // Відстежуємо, де знаходиться низ екрана щодо сторінки:\n    const position = scrolled + screenHeight;\n\n    if (position > threshold) {\n        // Якщо ми перетнули смугу-поріг, викликаємо потрібну дію.\n        // await fetchPictures()\n        body.classList.add('body--no-transparency');\n    } else {\n        body.classList.remove('body--no-transparency');\n    }\n}\n\n\nfunction throttle(callee, timeout) {\n    // Обробку прокручування варто трохи пригальмовувати, щоб вона виконувалася трохи рідше і таким чином менше навантажувала браузер. Додамо функцію throttle()\n    let timer = null;\n\n    return function perform(...args) {\n        if (timer) return;\n\n        timer = setTimeout(() => {\n            callee(...args);\n\n            clearTimeout(timer);\n            timer = null;\n        }, timeout)\n    }\n}\n\n// Наступну частину коду копіюєте до себе\n// Слухач заганяємо в умову: активний, якщо карток більш однієї сторінки\n//  if (totalImages > perPage) {\n// window.addEventListener('scroll', handleScroll);\n//         }\n\n// Функція для бескінечного скролу\n// function handleScroll() {\n//     const { scrollTop, scrollHeight, clientHeight } = document.documentElement;\n\n//     if (scrollTop + clientHeight >= scrollHeight - 1) {\n// запускаємо функцію завантаження наступної сторінки\n// onLoadMore();\n//     }\n// }"],"names":["BASE_URL","getProductsKeyword","page","limit","value","axios","subscriptionForm","e","emailInput","email","subscriptionData","response","data","error","discountProductsContainer","fetchDiscountProducts","discountProducts","product","card","createProductCard","updateCartButtonIcons","icons","setCartButtonEventListeners","longText","maxLength","screenWidth","shouldShowFullText","truncatedText","truncateText","text","popularProductsURL","renderPopularProducts","products","productList","listItem","popularCategoryWithoutUnderscore","fetchPopularProducts","popularProducts","productsListContainer","formFiltersEl","noSearchDivContainerElement","pagination","query","onSubmit","evt","updateFilter","searchQuery","removeAndRecreatePaginationContainer","renderProducts","updatePageSize","getFilters","container","newContainer","filters","perPage","totalPages","results","totalItems","createMarkup","visiblePages","Pagination","event","currentPage","currentFilters","newLimit","arr","item","categoryWithoutUnderscore","checkPosition","throttle","body","bodyHeight","screenHeight","scrolled","threshold","callee","timeout","timer","args"],"mappings":"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"}