{"version":3,"file":"commonHelpers2.js","sources":["../src/js/footer.js","../src/js/discount.js","../src/js/popular.js","../src/js/scroll.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    const subscriptionForm = document.querySelector('.footer-sub-form');\n\n    subscriptionForm.addEventListener('submit', async (e) => {\n        e.preventDefault();\n\n        const emailInput = subscriptionForm.querySelector('.footer-email-input');\n        const email = emailInput.value;\n\n        // Перевірка валідності email\n        if (!emailInput.checkValidity()) {\n            alert('Please enter a valid email address.');\n            return;\n        }\n\n        // Об'єкт, що відправляється на сервер\n        const subscriptionData = { email };\n\n        try {\n            const response = await fetch('https://food-boutique.b.goit.study/api/subscription', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(subscriptionData),\n            });\n\n            if (response.ok) {\n                const data = await response.json();\n                alert(data.message);\n            } else if (response.status === 409) {\n                alert('This email is already subscribed.');\n            } else {\n                throw new Error('Failed to subscribe.');\n            }\n        } catch (error) {\n            alert('Error: ' + error.message);\n        }\n    });\n});\n","import axios from 'axios';\nimport icons from '../img/icone/symbol-defs.svg';\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    const discountProductsContainer = document.getElementById(\"discount-products\");\n    const paginationContainer = document.getElementById('pagination');\n    const itemsPerPage = 2;\n    let currentPage = 1;\n\n  \n    async function fetchDiscountProducts(page) {\n        try {\n            const respone = await axios.get('https://food-boutique.b.goit.study/api/products/discount?page=${page}&limit=${itemsPerPage}`');\n            const discountProducts = respone.data;\n            console.log(discountProducts);\n\n            discountProductsContainer.innerHTML = '';\n\n                // Вибірка тільки 2 продуктів для відображення\n            const productsToDisplay = discountProducts.slice(0, 2);\n\n            productsToDisplay.forEach(product => {\n                const card = createProductCard(product);\n                discountProductsContainer.innerHTML += card;\n            });\n            // discountProducts.forEach(product => {\n            //     const card = createProductCard(product)\n            //     discountProductsContainer.innerHTML += card;\n            // });\n        } catch(error) {\n             console.error('Error fetching discount products:', error);\n        }\n    }\n\n    fetchDiscountProducts();\n\n    function createProductCard(product) {\n        return `\n        <li class=\"card-container-list-discount\">\n        <div class=\"photo-card-list-discount\">\n                <a class=\"product-modal-list-discount\" href=\"МОДАЛЬНЕ ВІКНО\">\n                    <div class=\"img-container-list-discount\">\n                        <img class=\"product-image-list-discount\" src=\"${product.img}\" alt=\"${product.name} photo\" width=114 height=114 loading=\"lazy\" />\n                    </div>\n                    <div class=\"product-info-list\">\n                        <div class=\"price-and-btn-list-discount\">\n                            <h2 class=\"product-name-list-discount\">${product.name}</h2>\n                            <h2 class=\"price-discount\">$${product.price}</h2>\n                            <button class='cart-btn-list-discount' type=\"button\">          \n                                <svg class='list-cart-svg-list' width=\"18\" height=\"18\" >\n                                    <use href=\"./img/icone/symbol-defs.svg#icon-heroicons-solid_shopping-cart-18x18\"></use>\n                                </svg>\n                            </button>\n                        </div>\n                    </div>\n                </a>\n            </div>\n        </li>\n    \n        `\n    }\n    // Функція для додавання продукту до кошика\n    \n\n\n\n\n\n\n\n\n    // \n})","import axios from 'axios';\nimport icons from '../img/icone/symbol-defs.svg';\nconst popularProductsURL =\n  'https://food-boutique.b.goit.study/api/products/popular';\n\nfunction renderPopularProducts(products) {\n  const productList = document.querySelector('.popular-product-list');\n\n  products.forEach(product => {\n    const listItem = document.createElement('li');\n    listItem.classList.add('popular-product-item');\n\n    listItem.innerHTML = `\n      <a class=\"popular-modal\">\n                 <div class=\"popular-img\">\n            <img class=\"popular-photo-item\" src=\"${product.img}\" alt=\"${product.name}\" width=\"56\" height=\"56\" loading=\"lazy\">\n          </div>  \n          <ul class=\"about-popular\">\n            <li class=\"name-popular-product\">${product.name}</li>\n            <li class=\"subname-popular-product\">Category: <span class=\"id-subname\">${product.category}</span></li>\n            <li class=\"subname-popular-product\">Size: <span class=\"id-subname\">${product.size}</span></li>\n            <li class=\"subname-popular-product\">Popularity: <span class=\"id-subname\">${product.popularity}</span></li>\n          </ul>\n          <button class='popular-cart-btn' type=\"button\">\n          <svg class=\"list-cart-svg-list\" width=\"12\" height=\"12\">\n<use href=\"'${icons}'#icon-heroicons-solid_shopping-cart-12x12 \"></use>\n         </svg></button>\n        </a>\n    `;\n\n    productList.appendChild(listItem);\n  });\n}\n\nasync function fetchPopularProducts() {\n  try {\n    const response = await axios.get(popularProductsURL);\n    return response.data; // Повертаємо список популярних продуктів з відповіді\n  } catch (error) {\n    console.error('Error fetching popular products:', error);\n    throw error; // Обробка помилки, якщо запит не вдалося виконати\n  }\n}\n\n// Викликаємо функцію для отримання списку популярних продуктів\nfetchPopularProducts()\n  .then(popularProducts => {\n    // Рендеримо список популярних продуктів\n    renderPopularProducts(popularProducts);\n  })\n  .catch(error => {\n    console.error('Error:', error);\n    // Тут можна обробити помилку, якщо отримання популярних продуктів не вдалося\n  });\n","window.onscroll = () => checkPosition();\n\n// тепер призначимо обробником подій трохи загальмовану функцію:\n; (() => {\n    window.addEventListener('scroll', throttle(checkPosition, 250));\n    window.addEventListener('resize', throttle(checkPosition, 250));\n})()\n\nasync function checkPosition() {\n    const body = document.querySelector('body');\n    // Нам потрібно знати висоту документа та висоту екрану:\n    const bodyHeight = document.body.offsetHeight;\n    const screenHeight = window.innerHeight;\n    // Записуємо, скільки пікселів користувач вже проскролив:\n    const scrolled = window.scrollY;\n    // Позначимо поріг, після наближення якого викликатимемо якусь дію. У нашому випадку – чверть екрана до кінця сторінки:\n    const threshold = bodyHeight - screenHeight / 4;\n    // Відстежуємо, де знаходиться низ екрана щодо сторінки:\n    const position = scrolled + screenHeight;\n\n    if (position > threshold) {\n        // Якщо ми перетнули смугу-поріг, викликаємо потрібну дію.\n        // await fetchPictures()\n        body.classList.add('body--no-transparency');\n    } else {\n        body.classList.remove('body--no-transparency');\n    }\n}\n\n\nfunction throttle(callee, timeout) {\n    // Обробку прокручування варто трохи пригальмовувати, щоб вона виконувалася трохи рідше і таким чином менше навантажувала браузер. Додамо функцію throttle()\n    let timer = null;\n\n    return function perform(...args) {\n        if (timer) return;\n\n        timer = setTimeout(() => {\n            callee(...args);\n\n            clearTimeout(timer);\n            timer = null;\n        }, timeout)\n    }\n}\n\n// Наступну частину коду копіюєте до себе\n// Слухач заганяємо в умову: активний, якщо карток більш однієї сторінки\n//  if (totalImages > perPage) {\n// window.addEventListener('scroll', handleScroll);\n//         }\n\n// Функція для бескінечного скролу\n// function handleScroll() {\n//     const { scrollTop, scrollHeight, clientHeight } = document.documentElement;\n\n//     if (scrollTop + clientHeight >= scrollHeight - 1) {\n// запускаємо функцію завантаження наступної сторінки\n// onLoadMore();\n//     }\n// }"],"names":["subscriptionForm","emailInput","email","subscriptionData","response","data","error","discountProductsContainer","fetchDiscountProducts","page","discountProducts","axios","product","card","createProductCard","popularProductsURL","renderPopularProducts","products","productList","listItem","icons","fetchPopularProducts","popularProducts","checkPosition","throttle","body","bodyHeight","screenHeight","scrolled","threshold","callee","timeout","timer","args"],"mappings":"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"}