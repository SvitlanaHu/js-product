(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();function v(e){localStorage.setItem("productFilters",JSON.stringify(e))}function L(){const e=localStorage.getItem("productFilters");return e?JSON.parse(e):{keyword:null,category:null,page:1,limit:6}}function k(e,t){const s=L();s[e]=t,v(s)}function m(e){localStorage.setItem("shoppingCart",JSON.stringify(e))}function l(){const e=localStorage.getItem("shoppingCart");return e?JSON.parse(e):[]}function b(e){const t=l(),s=t.findIndex(r=>r._id===e._id);s>-1?t[s].quantity+=1:t.push({...e,quantity:1}),m(t)}function S(e){const t=l(),s=t.findIndex(r=>r._id===e);s>-1&&(t[s].quantity>1?t[s].quantity-=1:t.splice(s,1)),m(t)}function O(){m([])}function g(){const t=l().reduce((r,n)=>r+n.quantity,0),s=document.querySelector(".numbers-of-products");s&&(s.textContent=t)}function C(e,t,s,r){const o=l().find(a=>a._id===e),c=t.find(a=>a._id===e);o?S(e):c&&b(c),d(t,".modal-add-to-cart-btn",r),d(t,".cart-btn-list",r),d(t,".popular-cart-btn",r),d(t,".cart-btn-list-discount",r),g()}function I(e,t,s,r){const o=t.find(a=>a._id===e)?"icon-check":"icon-heroicons-solid_shopping-cart-18x18",c=r===".popular-cart-btn"?"12":"18";return r===".modal-add-to-cart-btn"?`
        Add to 
        <svg class="modal-add-to-cart-svg" width="${c}" height="${c}">
          <use href="${s}#${o}"></use>
        </svg>
    `:`
    <svg class="${r===".popular-cart-btn"?"olive":"list-cart-svg-list"}" width="${c}" height="${c}">
      <use href="${s}#${o}"></use>
    </svg>
  `}function d(e,t,s){const r=l();document.querySelectorAll(t).forEach(o=>{const c=o.dataset.productId;o.innerHTML=I(c,r,s,t)})}function F(e,t,s){document.querySelectorAll(t).forEach(r=>{r.addEventListener("click",n=>{n.stopPropagation();const o=n.currentTarget.dataset.productId;C(o,e,t,s)})})}g();const $="/js-product/assets/symbol-defs-2260a6ca.svg";document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".footer-sub-form"),t=document.querySelector(".success-modal"),s=document.querySelector(".failure-modal"),r=document.querySelectorAll(".close-svg");e.addEventListener("submit",async o=>{o.preventDefault();const c=e.querySelector(".footer-email-input"),a=c.value;if(!c.checkValidity()){alert("Please enter a valid email address.");return}const y={email:a};try{const i=await fetch("https://food-boutique.b.goit.study/api/subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(i.ok){const q=await i.json();t.classList.add("open")}else if(i.status===409)s.classList.add("open");else throw new Error("Failed to subscribe.")}catch(i){alert("Error: "+i.message)}c.value=""});function n(){s.classList.contains("open")?s.classList.remove("open"):t.classList.contains("open")&&t.classList.remove("open")}r.forEach(o=>{o.addEventListener("click",n)}),document.addEventListener("keydown",function(o){o.key==="Escape"&&n()}),document.addEventListener("click",function(o){!o.target.closest(".failure-modal-interface")&&!o.target.closest(".success-modal-interface")&&n()})});const E=100,p=document.querySelector(".scroll-up"),f=document.querySelector(".scroll-up__svg-path"),u=f.getTotalLength();f.style.strokeDasharray=`${u} ${u}`;f.style.transition="stroke-dashoffset 20ms";const h=()=>window.pageYOffset||document.documentElement.scrollTop,w=()=>{const e=document.documentElement.scrollHeight-window.innerHeight,t=u-h()*u/e;f.style.strokeDashoffset=t};window.addEventListener("scroll",()=>{w(),h()>E?p.classList.add("scroll-up--active"):p.classList.remove("scroll-up--active")});p.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})});export{d as a,F as b,O as c,L as d,k as e,l as g,$ as i,m as s,g as u};
//# sourceMappingURL=scrollup-2d1b3183.js.map
