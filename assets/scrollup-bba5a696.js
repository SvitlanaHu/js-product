(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();function y(e){localStorage.setItem("productFilters",JSON.stringify(e))}function g(){const e=localStorage.getItem("productFilters");return e?JSON.parse(e):{keyword:null,category:null,page:1,limit:6}}function I(e,t){const s=g();s[e]=t,y(s)}function f(e){localStorage.setItem("shoppingCart",JSON.stringify(e))}function l(){const e=localStorage.getItem("shoppingCart");return e?JSON.parse(e):[]}function h(e){const t=l(),s=t.findIndex(r=>r._id===e._id);s>-1?t[s].quantity+=1:t.push({...e,quantity:1}),f(t)}function v(e){const t=l(),s=t.findIndex(r=>r._id===e);s>-1&&(t[s].quantity>1?t[s].quantity-=1:t.splice(s,1)),f(t)}function S(){f([])}function p(){const t=l().reduce((r,n)=>r+n.quantity,0),s=document.querySelector(".numbers-of-products");s&&(s.textContent=t)}function b(e,t,s,r){const o=l().find(i=>i._id===e),c=t.find(i=>i._id===e);o?v(e):c&&h(c),d(t,".cart-btn-list",r),d(t,".popular-cart-btn",r),d(t,".cart-btn-list-discount",r),d(t,".modal-add-to-cart-btn",r),p()}function C(e,t,s,r){const o=t.find(i=>i._id===e)?"icon-check":"icon-heroicons-solid_shopping-cart-18x18",c=r===".popular-cart-btn"?"12":"18";return`
    <svg class="list-cart-svg-list ${r===".popular-cart-btn"?"olive":""}" width="${c}" height="${c}">
      <use href="${s}#${o}"></use>
    </svg>
  `}function d(e,t,s){const r=l();document.querySelectorAll(t).forEach(o=>{const c=o.dataset.productId;o.innerHTML=C(c,r,s,t)})}function q(e,t,s){document.querySelectorAll(t).forEach(r=>{r.addEventListener("click",n=>{n.stopPropagation();const o=n.currentTarget.dataset.productId;b(o,e,t,s)})})}p();const w="/js-product/assets/symbol-defs-2260a6ca.svg";document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".footer-sub-form"),t=document.querySelector(".success-modal"),s=document.querySelector(".failure-modal"),r=document.querySelectorAll(".close-svg");e.addEventListener("submit",async o=>{o.preventDefault();const c=e.querySelector(".footer-email-input"),i=c.value;if(!c.checkValidity()){alert("Please enter a valid email address.");return}const m={email:i};try{const a=await fetch("https://food-boutique.b.goit.study/api/subscription",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(a.ok){const L=await a.json();t.classList.add("open")}else if(a.status===409)s.classList.add("open");else throw new Error("Failed to subscribe.")}catch(a){alert("Error: "+a.message)}c.value=""});function n(){s.classList.contains("open")?s.classList.remove("open"):t.classList.contains("open")&&t.classList.remove("open")}r.forEach(o=>{o.addEventListener("click",n)}),document.addEventListener("keydown",function(o){o.key==="Escape"&&n()}),document.addEventListener("click",function(o){!o.target.closest(".failure-modal-interface")&&!o.target.closest(".success-modal-interface")&&n()})});let u=document.querySelector(".top-btn");u.onclick=()=>window.scrollTo({top:0,behavior:"smooth"});window.onscroll=()=>{window.scrollY>500?u.style.display="flex":u.style.display="none"};export{d as a,q as b,S as c,g as d,I as e,l as g,w as i,f as s,p as u};
//# sourceMappingURL=scrollup-bba5a696.js.map
