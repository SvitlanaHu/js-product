{"version":3,"file":"local-storage-387e6bb1.js","sources":["../../src/img/icone/symbol-defs.svg","../../src/js/local-storage.js"],"sourcesContent":["export default \"__VITE_ASSET__a051084a__\"","/* для імпорту функій в ваш файл застосовуйте\nimport { назва функції, назва функції } from './js/localStorage';\nнаприклад:\nimport { saveFilters, getFilters, updateFilter, saveCart, getCart, addToCart, removeFromCart, clearCart } from './js/localStorage';\n*/\n\n// Функція для збереження фільтрів у localStorage\nexport function saveFilters(filters) {\n  localStorage.setItem('productFilters', JSON.stringify(filters));\n}\n\n// Функція для отримання фільтрів з localStorage\nexport function getFilters() {\n  const savedFilters = localStorage.getItem('productFilters');\n  return savedFilters ? JSON.parse(savedFilters) : { keyword: null, category: null, page: 1, limit: 6 };\n}\n\n// Функція для оновлення певного фільтра\nexport function updateFilter(key, value) {\n  const filters = getFilters();\n  filters[key] = value;\n  saveFilters(filters);\n}\n\n// Функція для збереження кошика у localStorage\nexport function saveCart(cart) {\n  localStorage.setItem('shoppingCart', JSON.stringify(cart));\n}\n\n// Функція для отримання кошика з localStorage\nexport function getCart() {\n  const savedCart = localStorage.getItem('shoppingCart');\n  return savedCart ? JSON.parse(savedCart) : [];\n}\n\n// Додавання продукту до кошика\nexport function addToCart(productToAdd) {\n  const cart = getCart();\n  const existingProductIndex = cart.findIndex(item => item._id === productToAdd._id);\n\n  if (existingProductIndex > -1) {\n      // Збільшуємо кількість існуючого продукту в кошику\n      cart[existingProductIndex].quantity += 1;\n  } else {\n      // Додаємо новий продукт в кошик з кількістю 1\n      cart.push({ ...productToAdd, quantity: 1 });\n  }\n\n  saveCart(cart);\n}\n\n\n// Видалення продукту з кошика\nexport function removeFromCart(productId) {\n  const cart = getCart();\n  const productIndex = cart.findIndex(item => item._id === productId);\n\n  if (productIndex > -1) {\n      if (cart[productIndex].quantity > 1) {\n          // Якщо кількість більше 1, зменшуємо її\n          cart[productIndex].quantity -= 1;\n      } else {\n          // Якщо кількість дорівнює 1, видаляємо продукт з кошика\n          cart.splice(productIndex, 1);\n      }\n  }\n\n  saveCart(cart);\n}\n\n// Очищення кошика\nexport function clearCart() {\n  saveCart([]);\n}\nfunction updateCartCount() {\nconst cartItems = getCart();\nconst totalCount = cartItems.reduce((count, item) => count + item.quantity, 0);\nconst cartCountElement = document.querySelector('.numbers-of-products');\nif (cartCountElement) {\n    cartCountElement.textContent = totalCount;\n}\n}\n\n// Уніфікована функція для обробки кліку на кнопку додавання продукту до кошика\nexport function handleCartButtonClick(productId, arr, buttonClass, icons) {\n  const cart = getCart();\n  const productInCart = cart.find(item => item._id === productId);\n  const product = arr.find(item => item._id === productId);\n\n  if (productInCart) {\n    removeFromCart(productId);\n  } else if (product) {\n    addToCart(product);\n  }\n  updateCartButtonIcons(arr, '.cart-btn-list', icons);\n  updateCartButtonIcons(arr, '.popular-cart-btn', icons);\n  updateCartButtonIcons(arr, '.cart-btn-list-discount', icons);\n  // Оновлення кількості товарів у кошику\n  updateCartCount();\n}\n\n// Уніфікована функція для оновлення іконок кнопок кошика\nexport function updateCartButtonIcons(arr, buttonClass, icons) {\n  const cart = getCart();\n  document.querySelectorAll(buttonClass).forEach(button => {\n    const productId = button.dataset.productId;\n    const productInCart = cart.find(item => item._id === productId);\n\n    if (productInCart) {\n      button.innerHTML = `\n        <svg class=\"list-cart-svg-list\" width=\"18\" height=\"18\">\n          <use href=\"${icons}#icon-check\"></use>\n        </svg>\n      `;\n    } else {\n      button.innerHTML = `\n        <svg class=\"list-cart-svg-list\" width=\"18\" height=\"18\">\n          <use href=\"${icons}#icon-heroicons-solid_shopping-cart-18x18\"></use>\n        </svg>\n      `;\n    }\n  });\n}\n\n// Уніфікована функція для встановлення обробників подій на кнопки додавання до кошика\nexport function setCartButtonEventListeners(arr, buttonClass, icons) {\n  document.querySelectorAll(buttonClass).forEach(button => {\n    button.addEventListener('click', (e) => {\n      const productId = e.currentTarget.dataset.productId;\n      handleCartButtonClick(productId, arr, buttonClass, icons);\n    });\n  });\n}"],"names":["icons","saveFilters","filters","getFilters","savedFilters","updateFilter","key","value","saveCart","cart","getCart","savedCart","addToCart","productToAdd","existingProductIndex","item","removeFromCart","productId","productIndex","clearCart","updateCartCount","totalCount","count","cartCountElement","handleCartButtonClick","arr","buttonClass","productInCart","product","updateCartButtonIcons","button","setCartButtonEventListeners","e"],"mappings":"ssBAAA,MAAeA,EAAA,8CCOR,SAASC,EAAYC,EAAS,CACnC,aAAa,QAAQ,iBAAkB,KAAK,UAAUA,CAAO,CAAC,CAChE,CAGO,SAASC,GAAa,CAC3B,MAAMC,EAAe,aAAa,QAAQ,gBAAgB,EAC1D,OAAOA,EAAe,KAAK,MAAMA,CAAY,EAAI,CAAE,QAAS,KAAM,SAAU,KAAM,KAAM,EAAG,MAAO,CAAC,CACrG,CAGO,SAASC,EAAaC,EAAKC,EAAO,CACvC,MAAML,EAAUC,IAChBD,EAAQI,GAAOC,EACfN,EAAYC,CAAO,CACrB,CAGO,SAASM,EAASC,EAAM,CAC7B,aAAa,QAAQ,eAAgB,KAAK,UAAUA,CAAI,CAAC,CAC3D,CAGO,SAASC,GAAU,CACxB,MAAMC,EAAY,aAAa,QAAQ,cAAc,EACrD,OAAOA,EAAY,KAAK,MAAMA,CAAS,EAAI,CAAA,CAC7C,CAGO,SAASC,EAAUC,EAAc,CACtC,MAAMJ,EAAOC,IACPI,EAAuBL,EAAK,UAAUM,GAAQA,EAAK,MAAQF,EAAa,GAAG,EAE7EC,EAAuB,GAEvBL,EAAKK,GAAsB,UAAY,EAGvCL,EAAK,KAAK,CAAE,GAAGI,EAAc,SAAU,CAAC,CAAE,EAG9CL,EAASC,CAAI,CACf,CAIO,SAASO,EAAeC,EAAW,CACxC,MAAMR,EAAOC,IACPQ,EAAeT,EAAK,UAAUM,GAAQA,EAAK,MAAQE,CAAS,EAE9DC,EAAe,KACXT,EAAKS,GAAc,SAAW,EAE9BT,EAAKS,GAAc,UAAY,EAG/BT,EAAK,OAAOS,EAAc,CAAC,GAInCV,EAASC,CAAI,CACf,CAGO,SAASU,GAAY,CAC1BX,EAAS,CAAE,CAAA,CACb,CACA,SAASY,GAAkB,CAE3B,MAAMC,EADYX,EAAO,EACI,OAAO,CAACY,EAAOP,IAASO,EAAQP,EAAK,SAAU,CAAC,EACvEQ,EAAmB,SAAS,cAAc,sBAAsB,EAClEA,IACAA,EAAiB,YAAcF,EAEnC,CAGO,SAASG,EAAsBP,EAAWQ,EAAKC,EAAa1B,EAAO,CAExE,MAAM2B,EADOjB,IACc,KAAKK,GAAQA,EAAK,MAAQE,CAAS,EACxDW,EAAUH,EAAI,KAAKV,GAAQA,EAAK,MAAQE,CAAS,EAEnDU,EACFX,EAAeC,CAAS,EACfW,GACThB,EAAUgB,CAAO,EAEnBC,EAAsBJ,EAAK,iBAAkBzB,CAAK,EAClD6B,EAAsBJ,EAAK,oBAAqBzB,CAAK,EACrD6B,EAAsBJ,EAAK,0BAA2BzB,CAAK,EAE3DoB,GACF,CAGO,SAASS,EAAsBJ,EAAKC,EAAa1B,EAAO,CAC7D,MAAMS,EAAOC,IACb,SAAS,iBAAiBgB,CAAW,EAAE,QAAQI,GAAU,CACvD,MAAMb,EAAYa,EAAO,QAAQ,UACXrB,EAAK,KAAKM,GAAQA,EAAK,MAAQE,CAAS,EAG5Da,EAAO,UAAY;AAAA;AAAA,uBAEF9B;AAAA;AAAA,QAIjB8B,EAAO,UAAY;AAAA;AAAA,uBAEF9B;AAAA;AAAA,OAIvB,CAAG,CACH,CAGO,SAAS+B,EAA4BN,EAAKC,EAAa1B,EAAO,CACnE,SAAS,iBAAiB0B,CAAW,EAAE,QAAQI,GAAU,CACvDA,EAAO,iBAAiB,QAAUE,GAAM,CACtC,MAAMf,EAAYe,EAAE,cAAc,QAAQ,UAC1CR,EAAsBP,EAAWQ,EAAKC,EAAa1B,CAAK,CAC9D,CAAK,CACL,CAAG,CACH"}